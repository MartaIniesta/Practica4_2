package replace;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Scanner;

public class Ejemplo4 {
	public static Scanner teclado = new Scanner(System.in);
	public static void main(String[] args) {
		System.out.println("Inicio del programa\n");
		//Llamar a un metodo que habra el fichero y devuelva todo su contenido y lo recogemos en un String
		//Pedimos en bucle al usuario que indique que palabras queremos "censurar" hasta que escribamos "terminar"
		//Despues mandamos el texto a un metodo que lo inserte en un fichero que se genere con un nombre compuesto por la fecha y hora actual o los milisegundos de la fecha
	
		String texto = leerFichero();
		System.out.print(texto);
		System.out.println();
		
		while(true) {
			System.out.print("Indica las palabras que quieres censurar //Escribe *terminar* para acabar//: ");
			String censurar = teclado.nextLine().trim();
			texto = texto.replaceAll(censurar, "***");

			if(censurar.equalsIgnoreCase("terminar")) {
				break;
			}
		}
						
		System.out.println("\nFin del programa");
	}
	
	public static String leerFichero() {
		String texto = "";
		
		try {
			File filas = new File("./input/texto.txt");
	        Scanner leer = new Scanner(filas);
		        while (leer.hasNextLine()) {
		        	texto += leer.nextLine();
		        }
		        leer.close();
	      } catch (FileNotFoundException e) {
	        System.out.println("Error");
	        e.printStackTrace();
	      }
		
		return texto;
	}
	
	/*public static String crearFichero(String texto) {
		 SimpleDateFormat fechahora = new SimpleDateFormat("dd-MM-yyyy");
		 
		 try {
			 FileWriter myWriter = new FileWriter("filename.txt");
			 myWriter.write("Files in Java might be tricky, but it is fun enough!");
			 myWriter.close();
		 } catch (IOException e) {
			 System.out.println("An error occurred.");
			 e.printStackTrace();
		 }
	}*/
}
