package Supuesto2;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Scanner;

public class Principal {
	public static void main(String[] args) {
		Scanner teclado = new Scanner(System.in);
		
		System.out.print("Introduce un dominio de direccion de correo: ");
		String dominio = teclado.nextLine();
		
		Usuarios[] resultado = usuariosDominio(dominio);
		
	public static Usuarios[] usuariosDominio(String dominio) {
		ArrayList<Usuarios> lista = new ArrayList<Usuarios>();

		try {
			File myObj = new File("./usuarios/usuarios.txt");
	        Scanner datos = new Scanner(myObj);
	        while (datos.hasNextLine()) {
	            String linea = datos.nextLine();
			    String[] partes = linea.split("&|\\.|@");
			    if(dominio.equals(partes[6])) {
			    	String nombre = partes[1];
			    	String email = partes[4] + "." + partes[5] + "@" + partes[6] + "." + partes[7];
			    	System.out.println(email);
			    }	  
	        }
	        datos.close();
	    }catch (FileNotFoundException e) {
	        System.out.println("Error");
	        e.printStackTrace();
	    }
		
		Usuarios[] array = new Usuarios[lista.size()];
		for(int i = 0; i < lista.size(); i++) {
			array[i] = lista.get(i); 
		}
		return array;
	}
		
		try {
			File myObj = new File("./usuarios/palntilla.html");
	        Scanner datos = new Scanner(myObj);
	        while (datos.hasNextLine()) {
	        	String linea = datos.nextLine();
	        	String[] partes = linea.split("=");
			   
			   
	        }
	        datos.close();
	    }catch (FileNotFoundException e) {
	        System.out.println("Error");
	        e.printStackTrace();
	    }


		/*try {
			String fichero = "./output/" + System.currentTimeMillis() + "plantilla.html";
			FileWriter writer = new FileWriter("./frases/" + fichero);
			writer.write();
			writer.close();
						
		}catch (IOException e){
			System.out.println("No se ha podido crear el archivo");
		}*/
		
	}
}